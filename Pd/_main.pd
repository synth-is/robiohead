#N canvas 10 -1415 2560 1387 12;
#X obj 144 332 hsl 128 15 0 6 0 0 empty empty empty -2 -8 0 10 #fcfcfc
#000000 #000000 0 1;
#X obj 309 280 vsl 15 128 0 14 0 0 empty empty empty 0 -9 0 10 #fcfcfc
#000000 #000000 0 1;
#X floatatom 309 480 5 0 0 0 - - - 0;
#X obj 309 450 mod 24;
#X floatatom 165 479 5 0 0 0 - - - 0;
#X obj 165 450 mod 7;
#X obj 166 552 pack f f;
#X obj 266 505 t b f;
#X obj 655 713 print latticePos;
#X obj 199 675 +;
#X obj 186 603 unpack f f;
#X obj 240 643 * 7;
#X text 163 310 7 steps;
#X text 162 286 7 x 24 lattice;
#X text 245 310 24 steps;
#X obj 195 730 change;
#X obj 806 488 hsl 256 15 0 7 0 0 empty empty empty -2 -8 0 10 #fcfcfc
#000000 #000000 0 1;
#X text 803 439 Seven one-sided tetrominoes (for now \, may go for
the 19 fixed tetrominos): I O T J L S Z https://en.wikipedia.org/wiki/Tetromino
https://mathworld.wolfram.com/Tetromino.html, f 75;
#X obj 665 558 change;
#X obj 665 528 mod 8;
#X obj 252 1400 spigot;
#X obj 291 1371 == 1;
#X text 873 726 clipping on lattice boundaries;
#X obj 57 1426 s tPB;
#X obj 275 1464 s tPB;
#X obj 787 682 r tPB;
#X obj 223 1438 - 1;
#X obj 223 1464 s tPB;
#X obj 322 1464 s tPB;
#X obj 322 1438 + 1;
#X obj 371 1464 s tPB;
#X obj 787 819 spigot;
#X obj 799 727 > 0;
#X obj 833 726 < 168;
#X obj 665 582 s tetro;
#X obj 110 1345 r tetro;
#X obj 195 754 s latt;
#X obj 32 1347 r latt;
#X text 32 1323 one note;
#X obj 291 1345 r tetro;
#X obj 225 1347 r latt;
#X text 225 1323 I tetromino;
#X obj 495 1400 spigot;
#X obj 534 1345 r tetro;
#X obj 468 1347 r latt;
#X text 468 1323 O tetromino;
#X obj 534 1371 == 2;
#X obj 520 1464 s tPB;
#X obj 467 1438 - 7;
#X obj 467 1464 s tPB;
#X obj 569 1438 + 1;
#X obj 569 1464 s tPB;
#X obj 619 1464 s tPB;
#X obj 602 460 loadbang;
#X obj 371 1438 + 2;
#X obj 619 1438 - 6;
#X obj 720 1400 spigot;
#X obj 759 1345 r tetro;
#X obj 693 1347 r latt;
#X obj 745 1464 s tPB;
#X obj 692 1464 s tPB;
#X obj 794 1464 s tPB;
#X obj 844 1464 s tPB;
#X text 693 1323 T tetromino;
#X obj 759 1371 == 3;
#X obj 692 1438 - 1;
#X obj 794 1438 + 1;
#X obj 844 1438 - 7;
#X obj 61 1589 spigot;
#X obj 100 1533 r tetro;
#X obj 34 1533 r latt;
#X obj 86 1646 s tPB;
#X obj 33 1646 s tPB;
#X obj 135 1646 s tPB;
#X obj 185 1646 s tPB;
#X obj 33 1622 - 1;
#X text 34 1511 J tetromino;
#X obj 57 1400 spigot 0;
#X obj 110 1371 == 0;
#X obj 100 1557 == 4;
#X obj 135 1622 + 7;
#X obj 185 1622 + 14;
#X obj 271 1589 spigot;
#X obj 310 1533 r tetro;
#X obj 244 1533 r latt;
#X obj 247 1646 s tPB;
#X obj 295 1646 s tPB;
#X obj 345 1646 s tPB;
#X obj 395 1646 s tPB;
#X obj 345 1622 + 7;
#X obj 395 1622 + 14;
#X text 244 1511 L tetromino;
#X obj 295 1622 + 1;
#X obj 310 1557 == 5;
#X obj 478 1589 spigot;
#X obj 517 1533 r tetro;
#X obj 451 1533 r latt;
#X obj 506 1646 s tPB;
#X obj 458 1646 s tPB;
#X obj 552 1646 s tPB;
#X obj 602 1646 s tPB;
#X obj 552 1622 + 7;
#X text 451 1511 S tetromino;
#X obj 458 1622 - 1;
#X obj 602 1622 + 8;
#X obj 678 1589 spigot;
#X obj 717 1533 r tetro;
#X obj 651 1533 r latt;
#X obj 660 1646 s tPB;
#X obj 705 1646 s tPB;
#X obj 752 1646 s tPB;
#X obj 802 1646 s tPB;
#X text 651 1511 Z tetromino;
#X obj 705 1622 + 1;
#X obj 752 1622 + 6;
#X obj 802 1622 + 7;
#X obj 517 1557 == 6;
#X obj 717 1557 == 7;
#X obj 735 582 print change;
#X obj 609 485 bng 15 250 50 0 empty empty empty 17 7 0 10 #fcfcfc
#000000 #000000;
#X obj 201 68 r LSM9DS1fps;
#X obj 227 104 print fps;
#X obj 201 144 unpack 0 0 0;
#X text 306 68 fusion pose;
#X text 297 142 pitch rool yaw (heading) as messages;
#X text 311 105 unit is Degrees (angle) - pitch limited to -/+90;
#X floatatom 326 428 5 0 0 0 - - - 0;
#X obj 795 43 adc~ 3;
#X obj 795 75 *~ 1.2;
#X obj 840 356 sfalib/scalesiglin~ 0 1 50 1000;
#X obj 929 107 threshold~ 1.1 20 1.1 20;
#X obj 827 202 snapshot~;
#X obj 827 234 sig~;
#X obj 798 311 *~;
#X obj 901 311 *~;
#X msg 929 139 0;
#X msg 958 139 1;
#X msg 1063 139 1;
#X msg 1098 139 0;
#X obj 795 107 delwrite~ DL1 20;
#X obj 795 139 delread~ DL1 20;
#X text 923 476 comment;
#X obj 742 335 loadbang;
#X obj 742 358 tgl 15 0 empty empty empty 17 7 0 10 #fcfcfc #000000
#000000 0 1;
#X obj 792 413 snapshot~;
#X text 30 1293 tetromino shapes \, or a single note position \, triggering
sample playback:, f 73;
#X text 856 39 soft membrane potentiometer for navigating different
tetrionomes \, used as chord-shapes in a tuning lattice;
#X text 89 230 TODO: integreate pose data when LSM9DS1 compiles!;
#X obj 742 377 metro 500;
#X text 811 378 this setting souldn't require a high sampling rate
;
#X obj 1406 781 lop~ 10;
#X obj 2099 1037 rev1~;
#X obj 1426 837 snapshot~;
#X obj 1501 832 loadbang;
#X obj 1501 855 tgl 15 0 empty empty empty 17 7 0 10 #fcfcfc #000000
#000000 0 1;
#X obj 1501 874 metro 20;
#X text 2154 1035 TODO: need to obtain the audio signal from samples
playback into this reverb \, see comment below. Might also look into
fancier rewerbs: http://tre.ucsd.edu/wordpress/?p=625, f 37;
#X obj 1019 565 loadbang;
#X msg 1019 589 in 18 \, out 17;
#X obj 1019 613 s bela_setDigital;
#X obj 991 541 r bela_digitalIn18;
#X obj 991 596 tgl 15 0 empty empty empty 17 7 0 10 #fcfcfc #000000
#000000 0 1;
#X obj 991 639 s bela_digitalOut17;
#X text 1129 537 button for pausing samples playback \, so new lattice
positions can be navigated to silently, f 47;
#X obj 875 760 != 1;
#X obj 812 763 &&;
#X obj 844 793 &&;
#X obj 393 781 adc~ 5;
#X obj 393 805 lop~ 100;
#X obj 393 829 threshold~ 0.47 10 0.33 10;
#X obj 393 877 f;
#X text 651 662 **sample playback from triggers below**;
#X text 199 41 tilting for navigating a 2D tuning lattice;
#X text 1991 973 TODO \, possibly: swingVelocity from accelerometer
(as in Bela example) inversely affecting sample duration;
#X obj 799 895 t b f;
#X text 181 374 navigation of lattice cells, f 13;
#X text 391 717 accelerometer Y shake triggers another samplepack number
- emulating / faking actual sound gene evolution, f 32;
#X obj 76 256 maxlib/scale -90 90 0 6 0;
#X obj 104 478 print X;
#X text 226 310 x;
#X obj 362 480 print Y;
#X obj 925 577 loadbang;
#X msg 941 623 0;
#X obj 936 602 bng 15 250 50 0 empty empty empty 17 7 0 10 #fcfcfc
#000000 #000000;
#X msg 603 506 3;
#X obj 1345 90 audioOnOff;
#X obj 1345 66 tgl 15 0 empty empty empty 17 7 0 10 #fcfcfc #000000
#000000 0 1;
#X obj 1345 41 loadbang;
#X obj 1475 1175 loadbang;
#X msg 1475 1199 0;
#X obj 1475 1223 f;
#X obj 1475 1247 + 1;
#X obj 1475 1271 % 8;
#X obj 1425 1169 bng 15 250 50 0 empty empty empty 17 7 0 10 #fcfcfc
#000000 #000000;
#X obj 978 1611 playAudioFile~;
#X obj 1087 1611 playAudioFile~;
#X obj 1196 1611 playAudioFile~;
#X obj 1307 1611 playAudioFile~;
#X obj 1419 1611 playAudioFile~;
#X obj 1533 1611 playAudioFile~;
#X obj 1646 1610 playAudioFile~;
#X obj 1761 1610 playAudioFile~;
#X obj 1774 1275 loadbang;
#X obj 1774 1297 delay 3;
#X text 1772 1229 The delay is a hack to send;
#X text 1773 1243 a later bang than a loadbang;
#X text 1772 1257 in the abstraction.;
#X msg 1789 1492 127;
#X obj 1029 1667 +~;
#X obj 1029 1696 *~ 0.5;
#X obj 1379 2052 output~;
#X obj 1245 1667 +~;
#X obj 1245 1696 *~ 0.5;
#X obj 1469 1667 +~;
#X obj 1469 1696 *~ 0.5;
#X obj 1698 1667 +~;
#X obj 1698 1696 *~ 0.5;
#X obj 1135 1759 +~;
#X obj 1135 1788 *~ 0.5;
#X obj 1592 1755 +~;
#X obj 1592 1784 *~ 0.5;
#X obj 1379 1864 +~;
#X obj 1379 1893 *~ 0.5;
#X obj 1281 1337 demux 0 1 2 3 4 5 6 7;
#X obj 996 1500 t b a;
#X obj 1102 1496 t b a;
#X obj 1187 1495 t b a;
#X obj 1289 1481 t b a;
#X obj 1377 1472 t b a;
#X obj 1459 1464 t b a;
#X obj 1568 1447 t b a;
#X obj 1664 1427 t b a;
#X floatatom 675 500 5 0 0 0 - - - 0;
#X obj 896 1591 print pl1;
#X obj 1071 1568 print pl2;
#X obj 1167 1556 print pl3;
#X obj 1255 1543 print pl4;
#X obj 1358 1536 print pl5;
#X obj 1448 1524 print pl6;
#X obj 1539 1508 print pl7;
#X obj 1641 1488 print pl8;
#X obj 99 761 r latt;
#X obj 1598 1999 hsl 128 15 0 927 0 0 empty empty empty -2 -8 0 10
#fcfcfc #000000 #000000 0 1;
#X obj 1379 2015 reverbControlRate~;
#X obj 1597 1967 hsl 128 15 0 127 0 0 empty empty empty -2 -8 0 10
#fcfcfc #000000 #000000 0 1;
#X obj 1379 1982 flangerControlRate~;
#X obj 1597 1934 hsl 128 15 0 127 0 0 empty empty empty -2 -8 0 10
#fcfcfc #000000 #000000 0 1;
#X obj 1379 1948 echoControlRate~;
#X obj 1597 1907 hsl 128 15 0 127 0 0 empty empty empty -2 -8 0 10
#fcfcfc #000000 #000000 0 1;
#X obj 1379 1921 filterControlRate~;
#X obj 357 824 bng 15 250 50 0 empty empty empty 17 7 0 10 #fcfcfc
#000000 #000000;
#X obj 1331 870 hsl 128 15 0 1 0 0 empty empty empty -2 -8 0 10 #fcfcfc
#000000 #000000 0 1;
#X obj 865 1098 pack f f f f;
#X obj 1108 842 hsl 128 15 0 1 0 0 empty empty empty -2 -8 0 10 #fcfcfc
#000000 #000000 0 1;
#X obj 1406 757 adc~ 5;
#X text 2115 935 TODO: at the same time affecting duration?;
#X text 1470 756 flex sensor to control velocity;
#X obj 1406 808 sfalib/scalesiglog~ 0 0.4 0 4 1;
#X obj 1116 761 analogInput4~;
#X obj 1124 788 snapshot~;
#X obj 1220 764 loadbang;
#X obj 1220 787 tgl 15 0 empty empty empty 17 7 0 10 #fcfcfc #000000
#000000 0 1;
#X obj 1220 806 metro 20;
#X msg 865 1122 samplepack\$1/\$2_\$3_\$4.wav;
#X obj 789 1165 print samplepack;
#X text 1110 739 slide potentiometer for duration;
#X obj 1996 1751 realtime;
#X floatatom 2037 1897 11 0 0 0 - - - 0;
#X obj 98 786 s noteEvent;
#X obj 1354 1653 r noteEvent;
#X obj 2013 1609 f;
#X msg 2044 1580 0;
#X obj 2013 1633 + 1;
#X obj 2013 1657 % 2;
#X obj 1993 1699 sel 0 1;
#X obj 1942 1577 r noteEvent;
#X obj 2077 1699 sel 1 0;
#X obj 2090 1751 realtime;
#X obj 1993 1807 maxlib/scale 0 3000 127 0 0;
#X obj 1992 1847 abs;
#X text 2104 1580 increase reverb in inverse proportion to time elapsed
between note events;
#X obj 1296 929 mod 4;
#X obj 1296 905 * 3;
#X text 16 816 r noteEvent is received at the playAudioFile instances
elapsed time mesurements for reverb control at output~, f 29;
#X obj 1056 898 mod 8;
#X obj 1083 874 * 7;
#X obj 380 256 maxlib/scale -90 90 0 14 0;
#X obj 977 1540 delay 5;
#X obj 1363 1509 delay 5;
#X obj 1086 1534 delay 5;
#X obj 1176 1531 delay 5;
#X obj 1269 1516 delay 5;
#X obj 1452 1497 delay 5;
#X obj 1545 1482 delay 5;
#X obj 1653 1464 delay 5;
#X obj 2258 1309 maxlib/scale 0 1 123 0 0;
#X obj 909 801 s noteEvent;
#X obj 393 853 random 5;
#X connect 0 0 5 0;
#X connect 1 0 3 0;
#X connect 2 0 7 0;
#X connect 3 0 2 0;
#X connect 4 0 6 0;
#X connect 5 0 4 0;
#X connect 6 0 10 0;
#X connect 7 0 6 0;
#X connect 7 1 6 1;
#X connect 9 0 15 0;
#X connect 10 0 9 0;
#X connect 10 1 11 0;
#X connect 11 0 9 1;
#X connect 15 0 36 0;
#X connect 16 0 19 0;
#X connect 18 0 34 0;
#X connect 18 0 118 0;
#X connect 19 0 18 0;
#X connect 20 0 24 0;
#X connect 20 0 26 0;
#X connect 20 0 29 0;
#X connect 20 0 54 0;
#X connect 21 0 20 1;
#X connect 25 0 8 0;
#X connect 25 0 32 0;
#X connect 25 0 31 0;
#X connect 25 0 33 0;
#X connect 26 0 27 0;
#X connect 29 0 28 0;
#X connect 31 0 174 0;
#X connect 31 0 193 0;
#X connect 32 0 165 0;
#X connect 33 0 165 1;
#X connect 35 0 78 0;
#X connect 37 0 77 0;
#X connect 39 0 21 0;
#X connect 40 0 20 0;
#X connect 42 0 47 0;
#X connect 42 0 48 0;
#X connect 42 0 50 0;
#X connect 42 0 55 0;
#X connect 43 0 46 0;
#X connect 44 0 42 0;
#X connect 46 0 42 1;
#X connect 48 0 49 0;
#X connect 50 0 51 0;
#X connect 53 0 119 0;
#X connect 54 0 30 0;
#X connect 55 0 52 0;
#X connect 56 0 59 0;
#X connect 56 0 65 0;
#X connect 56 0 66 0;
#X connect 56 0 67 0;
#X connect 57 0 64 0;
#X connect 58 0 56 0;
#X connect 64 0 56 1;
#X connect 65 0 60 0;
#X connect 66 0 61 0;
#X connect 67 0 62 0;
#X connect 68 0 71 0;
#X connect 68 0 75 0;
#X connect 68 0 80 0;
#X connect 68 0 81 0;
#X connect 69 0 79 0;
#X connect 70 0 68 0;
#X connect 75 0 72 0;
#X connect 77 0 23 0;
#X connect 78 0 77 1;
#X connect 79 0 68 1;
#X connect 80 0 73 0;
#X connect 81 0 74 0;
#X connect 82 0 85 0;
#X connect 82 0 89 0;
#X connect 82 0 90 0;
#X connect 82 0 92 0;
#X connect 83 0 93 0;
#X connect 84 0 82 0;
#X connect 89 0 87 0;
#X connect 90 0 88 0;
#X connect 92 0 86 0;
#X connect 93 0 82 1;
#X connect 94 0 97 0;
#X connect 94 0 101 0;
#X connect 94 0 103 0;
#X connect 94 0 104 0;
#X connect 95 0 116 0;
#X connect 96 0 94 0;
#X connect 101 0 99 0;
#X connect 103 0 98 0;
#X connect 104 0 100 0;
#X connect 105 0 108 0;
#X connect 105 0 113 0;
#X connect 105 0 114 0;
#X connect 105 0 115 0;
#X connect 106 0 117 0;
#X connect 107 0 105 0;
#X connect 113 0 109 0;
#X connect 114 0 110 0;
#X connect 115 0 111 0;
#X connect 116 0 94 1;
#X connect 117 0 105 1;
#X connect 119 0 184 0;
#X connect 120 0 122 0;
#X connect 122 0 177 0;
#X connect 122 1 286 0;
#X connect 127 0 128 0;
#X connect 128 0 130 0;
#X connect 128 0 139 0;
#X connect 129 0 144 0;
#X connect 130 0 135 0;
#X connect 130 0 136 0;
#X connect 130 0 131 0;
#X connect 130 1 137 0;
#X connect 130 1 138 0;
#X connect 131 0 132 0;
#X connect 132 0 134 0;
#X connect 133 0 129 0;
#X connect 134 0 129 0;
#X connect 135 0 133 1;
#X connect 136 0 134 1;
#X connect 137 0 133 1;
#X connect 138 0 134 1;
#X connect 140 0 131 0;
#X connect 140 0 133 0;
#X connect 142 0 143 0;
#X connect 143 0 148 0;
#X connect 144 0 232 0;
#X connect 148 0 144 0;
#X connect 150 0 257 0;
#X connect 153 0 154 0;
#X connect 154 0 155 0;
#X connect 155 0 152 0;
#X connect 157 0 158 0;
#X connect 158 0 159 0;
#X connect 160 0 161 0;
#X connect 161 0 162 0;
#X connect 161 0 164 0;
#X connect 164 0 166 1;
#X connect 164 0 296 0;
#X connect 165 0 166 0;
#X connect 166 0 31 1;
#X connect 167 0 168 0;
#X connect 168 0 169 0;
#X connect 169 0 297 0;
#X connect 170 0 252 0;
#X connect 174 0 252 0;
#X connect 174 1 252 1;
#X connect 177 0 5 0;
#X connect 181 0 183 0;
#X connect 182 0 164 0;
#X connect 183 0 182 0;
#X connect 184 0 34 0;
#X connect 186 0 185 0;
#X connect 187 0 186 0;
#X connect 188 0 189 0;
#X connect 189 0 190 0;
#X connect 190 0 191 0;
#X connect 191 0 190 1;
#X connect 191 0 192 0;
#X connect 192 0 223 1;
#X connect 193 0 190 0;
#X connect 194 0 208 0;
#X connect 195 0 208 1;
#X connect 196 0 211 0;
#X connect 197 0 211 1;
#X connect 198 0 213 0;
#X connect 199 0 213 1;
#X connect 200 0 215 0;
#X connect 201 0 215 1;
#X connect 202 0 203 0;
#X connect 203 0 207 0;
#X connect 207 0 194 2;
#X connect 207 0 195 2;
#X connect 207 0 196 2;
#X connect 207 0 197 2;
#X connect 207 0 198 2;
#X connect 207 0 199 2;
#X connect 207 0 200 2;
#X connect 207 0 201 2;
#X connect 208 0 209 0;
#X connect 209 0 217 0;
#X connect 211 0 212 0;
#X connect 212 0 217 1;
#X connect 213 0 214 0;
#X connect 214 0 219 0;
#X connect 215 0 216 0;
#X connect 216 0 219 1;
#X connect 217 0 218 0;
#X connect 218 0 221 0;
#X connect 219 0 220 0;
#X connect 220 0 221 1;
#X connect 221 0 222 0;
#X connect 222 0 249 0;
#X connect 223 0 224 0;
#X connect 223 1 225 0;
#X connect 223 2 226 0;
#X connect 223 3 227 0;
#X connect 223 4 228 0;
#X connect 223 5 229 0;
#X connect 223 6 230 0;
#X connect 223 7 231 0;
#X connect 224 0 287 0;
#X connect 224 1 194 4;
#X connect 225 0 289 0;
#X connect 225 1 195 4;
#X connect 226 0 290 0;
#X connect 226 1 196 4;
#X connect 227 0 291 0;
#X connect 227 1 197 4;
#X connect 228 0 288 0;
#X connect 228 1 198 4;
#X connect 229 0 292 0;
#X connect 229 1 199 4;
#X connect 230 0 293 0;
#X connect 230 1 200 4;
#X connect 231 0 294 0;
#X connect 231 1 201 4;
#X connect 241 0 268 0;
#X connect 242 0 243 1;
#X connect 243 0 210 0;
#X connect 244 0 245 1;
#X connect 245 0 243 0;
#X connect 246 0 247 1;
#X connect 247 0 245 0;
#X connect 248 0 249 1;
#X connect 249 0 247 0;
#X connect 250 0 297 0;
#X connect 251 0 282 0;
#X connect 251 0 295 0;
#X connect 252 0 263 0;
#X connect 253 0 285 0;
#X connect 254 0 150 0;
#X connect 257 0 152 0;
#X connect 258 0 259 0;
#X connect 260 0 261 0;
#X connect 261 0 262 0;
#X connect 262 0 259 0;
#X connect 263 0 264 0;
#X connect 263 0 223 0;
#X connect 266 0 278 0;
#X connect 269 0 194 1;
#X connect 269 0 195 1;
#X connect 269 0 196 1;
#X connect 269 0 197 1;
#X connect 269 0 198 1;
#X connect 269 0 199 1;
#X connect 269 0 200 1;
#X connect 269 0 201 1;
#X connect 270 0 272 0;
#X connect 271 0 270 1;
#X connect 272 0 270 1;
#X connect 272 0 273 0;
#X connect 273 0 274 0;
#X connect 273 0 276 0;
#X connect 274 0 266 0;
#X connect 274 1 266 1;
#X connect 275 0 270 0;
#X connect 276 0 277 0;
#X connect 276 1 277 1;
#X connect 277 0 278 0;
#X connect 278 0 279 0;
#X connect 279 0 267 0;
#X connect 279 0 243 1;
#X connect 281 0 252 3;
#X connect 282 0 281 0;
#X connect 284 0 252 2;
#X connect 285 0 284 0;
#X connect 286 0 3 0;
#X connect 287 0 194 0;
#X connect 287 0 233 0;
#X connect 288 0 198 0;
#X connect 288 0 237 0;
#X connect 289 0 195 0;
#X connect 289 0 234 0;
#X connect 290 0 196 0;
#X connect 290 0 235 0;
#X connect 291 0 197 0;
#X connect 291 0 236 0;
#X connect 292 0 199 0;
#X connect 292 0 238 0;
#X connect 293 0 200 0;
#X connect 293 0 239 0;
#X connect 294 0 201 0;
#X connect 294 0 240 0;
#X connect 295 0 249 1;
#X connect 297 0 170 0;
